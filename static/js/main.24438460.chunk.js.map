{"version":3,"sources":["store.tsx","components/Add/Add.tsx","components/Delete/Delete.tsx","components/Map/Map.tsx","components/Map/Wrapped.ts","components/Header/Header.tsx","App.tsx","index.tsx"],"names":["initialState","lat","lng","store","createStore","state","action","type","Add","props","onClose","addAssets","useState","name","setName","latitude","setLatitude","longitude","setLongitude","nameWarning","setNameWarning","latWarning","setLatWarning","lngWarning","setLngWarning","className","onSubmit","event","preventDefault","newAsset","id","uuidv4","length","test","htmlFor","cx","onChange","value","target","placeholder","onClick","Delete","deleteAsset","close","connect","defaultZoom","defaultCenter","position","WrappedMap","withScriptjs","withGoogleMap","Map","Header","toggleAdd","handleSearch","track","setTrack","useEffect","toLowerCase","mapDispatchToProps","setAssetsCord","firstAsset","isOpen","setIsOpen","isDelete","setIsDelete","deletedName","setDeletedName","assets","setAssets","visibleAssets","setVisibleAssets","ReactDOM","createPortal","asset","document","getElementById","filter","includes","googleMapURL","loadingElement","style","height","containerElement","mapElement","map","key","handleCheckAsset","render"],"mappings":"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","file":"static/js/main.24438460.chunk.js","sourcesContent":["import { AnyAction, createStore } from 'redux';\n\nconst CHECK_ASSET = 'CHECK_ASSET';\n\nexport const setAsset = (lat: number, lng: number) => ({\n  type: CHECK_ASSET, lat, lng,\n});\n\nexport interface State {\n  lat: number;\n  lng: number;\n}\n\nconst initialState: State = {\n  lat: 50.447731,\n  lng: 31.542721,\n};\n\nconst reducer = (state = initialState, action: AnyAction) => {\n  if (action.type === CHECK_ASSET) {\n    return {\n      ...state,\n      lat: +action.lat,\n      lng: +action.lng,\n    };\n  }\n\n  return state;\n};\n\nconst store = createStore(reducer, initialState);\n\nexport default store;\n","import React, { FC, useState } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport cx from 'classnames';\nimport './styles/add.css';\n\ninterface Props {\n  onClose: () => void;\n  addAssets: any;\n}\nexport const Add: FC<Props> = (props) => {\n  const { onClose, addAssets } = props;\n  const [name, setName] = useState('');\n  const [latitude, setLatitude] = useState('');\n  const [longitude, setLongitude] = useState('');\n  const [nameWarning, setNameWarning] = useState(false);\n  const [latWarning, setLatWarning] = useState(false);\n  const [lngWarning, setLngWarning] = useState(false);\n\n  const clearSubmit = () => {\n    setName('');\n    setLatitude('');\n    setLongitude('');\n  };\n\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const newAsset = {\n      id: uuidv4(),\n      name,\n      latitude,\n      longitude,\n    };\n\n    if (name === '' || latitude === '' || longitude === '') {\n      setNameWarning(true);\n      setLatWarning(true);\n      setLngWarning(true);\n    } else if (name.length > 15) {\n      setNameWarning(true);\n    } else if (/([8-9][0-9])|([1-9][0-9][0-9])|([0-9]{4,})|([a-zA-Z])/\n      .test(latitude)) {\n      setLatWarning(true);\n    } else if (/(1[8-9][0-9])|([2-9][0-9][0-9])|([0-9]{4,})|([a-zA-Z])/\n      .test(longitude)) {\n      setLngWarning(true);\n    } else {\n      setNameWarning(false);\n      setLatWarning(false);\n      setLngWarning(false);\n      addAssets(newAsset);\n      clearSubmit();\n      onClose();\n    }\n  };\n\n  const handleInputName = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.target;\n\n    setNameWarning(false);\n    setName(value);\n  };\n\n  const handleInputLatitude = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.target;\n\n    setLatWarning(false);\n    setLatitude(value);\n  };\n\n  const handleInputLongitude = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.target;\n\n    setLngWarning(false);\n    setLongitude(value);\n  };\n\n  return (\n    <div className=\"wrapper\">\n      <div className=\"box\">\n        <h2 className=\"title is-6\">Add new assets</h2>\n\n        <form onSubmit={handleSubmit} action=\"\">\n          <div className=\"input-box\">\n            <label className=\"asset-label\" htmlFor=\"name\">Name</label>\n            <input\n              className={cx('input is-small', { 'is-danger': nameWarning })}\n              onChange={handleInputName}\n              value={name}\n              type=\"text\"\n              name=\"name\"\n              id=\"name\"\n              placeholder=\"input name tracker\"\n            />\n          </div>\n\n          <div className=\"input-box\">\n            <label className=\"asset-label\" htmlFor=\"latitude\">Latitude</label>\n            <input\n              className={cx('input is-small', { 'is-danger': latWarning })}\n              onChange={handleInputLatitude}\n              value={latitude}\n              type=\"text\"\n              id=\"latitude\"\n              placeholder=\"number from 0 to 80\"\n            />\n          </div>\n\n          <div className=\"input-box\">\n            <label className=\"asset-label\" htmlFor=\"longitude\">Longitude</label>\n            <input\n              className={cx('input is-small', { 'is-danger': lngWarning })}\n              onChange={handleInputLongitude}\n              value={longitude}\n              type=\"text\"\n              id=\"longitude\"\n              placeholder=\"number from 0 to 180\"\n            />\n          </div>\n\n          <div className=\"buttons buttons-delblock\">\n            <button\n              className=\"button is-warning\"\n              type=\"button\"\n              onClick={onClose}\n            >\n              Cancel\n            </button>\n            <button className=\"button is-success\" type=\"submit\">Add</button>\n          </div>\n        </form>\n\n      </div>\n    </div>\n  );\n};\n","import React, { FC } from 'react';\nimport './styles/delete.css';\n\ninterface Props {\n  name: string;\n  deleteAsset: (name: string) => void;\n  close: () => void;\n}\n\nexport const Delete: FC<Props> = (props) => {\n  const { name, deleteAsset, close } = props;\n\n  return (\n    <div className=\"wrapper\">\n      <div className=\"box delete-container\">\n        <h3 className=\"title is-5\">Warning</h3>\n        <h4 className=\"title is-6\">\n          {`Are you sure you want to delete ${name}`}\n        </h4>\n        <div className=\" buttons delete-block\">\n          <button\n            className=\"cancel button is-warning \"\n            onClick={close}\n            type=\"button\"\n          >\n            Cancel\n          </button>\n          <button\n            className=\"button is-danger\"\n            onClick={() => deleteAsset(name)}\n            type=\"button\"\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { FC } from 'react';\nimport { connect } from 'react-redux';\nimport {\n  GoogleMap,\n  Marker,\n} from 'react-google-maps';\n\nimport { State } from '../../store';\n\nconst Map: FC<State> = (props) => {\n  const { lat, lng } = props;\n\n  return (\n    <GoogleMap\n      defaultZoom={7}\n      defaultCenter={{\n        lat, lng,\n      }}\n    >\n      <Marker position={{\n        lat, lng,\n      }}\n      />\n    </GoogleMap>\n  );\n};\n\nconst mapStateToProps = (state: State) => ({\n  lat: state.lat,\n  lng: state.lng,\n});\n\nexport default connect(mapStateToProps, null)(Map);\n","import { withGoogleMap, withScriptjs } from 'react-google-maps';\nimport Map from './Map';\n\nexport const WrappedMap = withScriptjs(withGoogleMap(Map)) as any;\n","import React, { FC, useEffect, useState } from 'react';\nimport './styles/header.css';\n\ninterface Props {\n  toggleAdd: () => void;\n  handleSearch: (track: string) => void;\n}\n\nexport const Header: FC<Props> = (props) => {\n  const { toggleAdd, handleSearch } = props;\n\n  const [track, setTrack] = useState('');\n\n  useEffect(() => {\n    handleSearch(track.toLowerCase());\n  }, [track]);\n\n  const handleFilter = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.target;\n\n    setTrack(value);\n  };\n\n  return (\n    <header className=\"header\">\n      <h1 className=\"title is-4\">Assets map</h1>\n      <div className=\"panel\">\n        <input\n          className=\"input panel__input\"\n          onChange={handleFilter}\n          value={track}\n          type=\"text\"\n          placeholder=\"Search asset...\"\n        />\n        <button\n          className=\"button is-success\"\n          type=\"button\"\n          onClick={toggleAdd}\n        >\n          Add assets\n        </button>\n      </div>\n    </header>\n  );\n};\n","import React, { FC, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { connect } from 'react-redux';\nimport { Add } from './components/Add';\nimport { Delete } from './components/Delete';\nimport { WrappedMap } from './components/Map/Wrapped';\n\nimport './App.css';\nimport { setAsset } from './store';\nimport { Header } from './components/Header';\n\nconst googleURL = `https://maps.googleapis.com/maps/api/js?v=3.exp&\nlibraries=geometry,drawing,places`;\n\ninterface Props {\n  setAssetsCord: (lat: number, lng: number) => void;\n}\n\nconst App: FC<Props> = (props) => {\n  const { setAssetsCord } = props;\n\n  const firstAsset = {\n    id: '123', name: 'Truck 1', latitude: 48, longitude: 31,\n  };\n\n  const [isOpen, setIsOpen] = useState(false);\n  const [isDelete, setIsDelete] = useState(false);\n  const [deletedName, setDeletedName] = useState('');\n  const [assets, setAssets] = useState<Asset[]>([firstAsset]);\n  const [visibleAssets, setVisibleAssets] = useState<Asset[]>([firstAsset]);\n\n  const toggleAdd = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const toggleDelete = (name: string) => {\n    setDeletedName(name);\n    setIsDelete(!isDelete);\n  };\n\n  const addAssets = (asset: Asset) => {\n    setAssets([...assets, asset]);\n    setVisibleAssets([...visibleAssets, asset]);\n  };\n\n  const deleteAsset = (name: string) => {\n    setIsDelete(!isDelete);\n    setAssets(assets.filter(asset => asset.name !== name));\n    setVisibleAssets(visibleAssets.filter(asset => asset.name !== name));\n  };\n\n  const closeAsset = () => {\n    setIsDelete(!isDelete);\n  };\n\n  const handleCheckAsset = (asset: Asset) => {\n    const { latitude, longitude } = asset;\n\n    setAssetsCord(latitude, longitude);\n  };\n\n  const handleSearch = (track: string) => {\n    setVisibleAssets([...assets]\n      .filter((asset) => asset.name.toLowerCase().includes(track)));\n  };\n\n  return (\n    <div className=\"container\">\n      {isOpen\n      && ReactDOM.createPortal(\n        <Add\n          onClose={toggleAdd}\n          addAssets={addAssets}\n        />,\n        document.getElementById('portal') as HTMLElement,\n      )}\n      {isDelete\n      && ReactDOM.createPortal(\n        <Delete\n          name={deletedName}\n          deleteAsset={deleteAsset}\n          close={closeAsset}\n        />,\n        document.getElementById('portal_2') as HTMLElement,\n      )}\n      <Header toggleAdd={toggleAdd} handleSearch={handleSearch} />\n\n      <main className=\"main\">\n        <div className=\"map border\">\n          <h3 className=\"map-title\">Map</h3>\n          <WrappedMap\n            googleMapURL={googleURL}\n            loadingElement={(\n              <div style={{\n                height: '100%',\n              }}\n              />\n            )}\n            containerElement={(\n              <div style={{\n                height: '100%',\n              }}\n              />\n            )}\n            mapElement={(\n              <div style={{\n                height: '100%',\n              }}\n              />\n            )}\n          />\n        </div>\n        <div className=\"assets border\">\n          <h3 className=\"title is-6\">Assets</h3>\n          <ul className=\"menu-assets\">\n            {visibleAssets.map(asset => (\n              <li className=\"assets-item\" key={asset.id}>\n                <label className=\"assets-text\" htmlFor={asset.id}>\n                  {asset.name}\n                </label>\n                <input\n                  className=\"checkbox\"\n                  onChange={() => handleCheckAsset(asset)}\n                  type=\"checkbox\"\n                  id={asset.id}\n                />\n                <button\n                  className=\"delete is-medium\"\n                  type=\"button\"\n                  onClick={() => toggleDelete(asset.name)}\n                >\n                  Close\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n\n      </main>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = {\n  setAssetsCord: setAsset,\n};\n\nexport default connect(null, mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nimport App from './App';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}